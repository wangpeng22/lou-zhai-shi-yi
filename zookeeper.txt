zookeeper 的选举机制

全新集群选举：
1. 每个机器都给自己投票
2. 投票数过半，选举结束

非全新集群选举：
1. 逻辑时钟小的被忽略，重新选举
2. 统一逻辑时钟后，数据Id大的胜出
3. 数据Id相同的情况下，服务器Id大的胜出

数据的发布与订阅，
即配置中心，
也就是发布者将数据发布到zk节点上，供订阅者动态获取数据，实现配置信息的集中式管理和动态更新。

1.所有的订阅者初次启动的时候去zk指定的节点获取相关的订阅信息
2.获取数据的同时，还要设置监听，监听节点数据的变化
3.一旦节点数据发生改变，监听就会被触发，订阅者就会收到事件的通知，从而获取新的配置信息
4.还要设置相同的监听


分布式锁

独占锁：
1.要求所有应用先去zk上指定的目录创建临时的非序列化的节点
2.创建节点成功的应用获得操作数据的权限
3.操作完成后断开与zk的连接
其他应用如果需要操作这个数据的话，就去监听这个目录是否存在

控制时序
1.要求所有应用先去zk上指定的目录创建临时的有序的节点



